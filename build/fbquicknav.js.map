{"version":3,"sources":["../src/fbquicknav.js"],"names":["FBQuickNav","selector","options","quicknavEl","document","querySelector","settings","sectionClass","sectionTitle","sectionClassHide","scrollOffset","addTrigger","triggerAfterItems","triggerIconOpen","triggerIconClose","Object","assign","nodesEls","init","getSections","buildHTML","clickItemsEvents","scrollActivateItems","triggerEvents","closeOnScroll","hideQuickNav","classList","add","sectionsEl","querySelectorAll","forEach","sectionEl","index","getAttribute","quicknavInEl","createElement","itemsEl","title","itemEl","href","spanEl","textContent","appendChild","buttonEl","type","buttonLabel","buttonIcons","buttonIconOpen","innerHTML","buttonIconClose","insertBefore","firstChild","set_trigger_label","linkEl","addEventListener","evt","preventDefault","go_to_section","ScrollTrigger","create","trigger","start","end","onEnter","onLeave","remove","onEnterBack","onLeaveBack","triggerEl","contains","close_quicknav","open_quicknav","window","_","throttle","hideHereEl","toggleClass","targets","className","endTrigger","triggerLabelEl","y","getBoundingClientRect","top","pageYOffset","scrollTo","behavior"],"mappings":"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","sourcesContent":["/**\n * Quick Nav plugin.\n * Version 2.3\n *\n * Required:\n *    - LoDash _.throttle\n *\t  - GSAP with ScrollTrigger\n *\n * To activate:\n *\t  new FBQuickNav('.jsQuicknav');\n *    const quickNav = new FBQuickNav('.jsQuicknav');\n *    const quickNav = new FBQuickNav('.jsQuicknav', { options });\n *\n * Settings:\n *    - sectionClass --> Class name of the sections added in the quick nav.\n *    - sectionTitle --> Data attribute for the title of the section, displayed in the quick nav.\n *    - sectionClassHide --> When the quicknav reaches this section, hide it.\n *    - scrollOffset --> Offset when scrolling to a section.\n *    - addTrigger --> Add a button to open and close the quicknav.\n *    - triggerAfterItems --> Position of the trigger HTML: before or after the items.\n *    - triggerIconOpen --> SVG of the icon of the trigger to show the items.\n *    - triggerIconClose --> SVG of the icon of the trigger to hide the items.\n */\n\nclass FBQuickNav {\n\tconstructor(selector, options) {\n\t\tthis.quicknavEl = document.querySelector(selector);\n\n\t\t// Try to init\n\t\tif (this.quicknavEl == null || typeof this.quicknavEl === \"undefined\") {\n\t\t\treturn;\n\t\t}\n\n\t\t// Default settings\n\t\tthis.settings = {\n\t\t\tsectionClass: \".jsQuickNav__section\",\n\t\t\tsectionTitle: \"data-quicknav-title\",\n\t\t\tsectionClassHide: \".jsQuickNav__hide\",\n\t\t\tscrollOffset: -100,\n\t\t\taddTrigger: false,\n\t\t\ttriggerAfterItems: false,\n\t\t\ttriggerIconOpen: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><path d=\"M50 79.53L2.5 32.03l11.56-11.56L50 56.41l35.94-35.94L97.5 32.03z\"/></svg>',\n\t\t\ttriggerIconClose: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><path d=\"M1.004 89.605l88.6-88.6 9.397 9.397-88.6 88.6z\"/><path d=\"M1.004 10.394L10.402.997l88.6 88.6-9.398 9.397z\"/></svg>',\n\t\t}\n\n\t\t// Merge options in the settings\n\t\tthis.settings = Object.assign(this.settings, options);\n\n\t\t// Cache HTML nodes, for fast and easy access\n\t\tthis.nodesEls = [];\n\t\tthis.nodesEls['sections'] = [];\n\t\tthis.nodesEls['links'] = [];\n\t\tthis.nodesEls['titles'] = [];\n\n\t\t// Init this plugin\n\t\tthis.init();\n\t}\n\n\tinit() {\n\t\tthis.getSections();\n\t\tthis.buildHTML();\n\t\tthis.clickItemsEvents();\n\t\tthis.scrollActivateItems();\n\t\tthis.triggerEvents();\n\t\tthis.closeOnScroll();\n\t\tthis.hideQuickNav();\n\n\t\t// This init will show the quicknav\n\t\tthis.quicknavEl.classList.add(\"isInit\");\n\t}\n\n\n\t/**\n\t * Get the sections that we will use for the quick nav.\n\t * Only the sections that has a title defined.\n\t */\n\tgetSections() {\n\t\tconst sectionsEl = document.querySelectorAll(this.settings.sectionClass + '[' + this.settings.sectionTitle + ']');\n\n\t\tsectionsEl.forEach((sectionEl, index) => {\n\t\t\t// Set section in a var for quick access by index later on.\n\t\t\tthis.nodesEls['sections'][index] = sectionEl;\n\n\t\t\t// Set title in a var for quick access by index later on.\n\t\t\tconst sectionTitle = sectionEl.getAttribute(\"data-quicknav-title\");\n\t\t\tthis.nodesEls['titles'][index] = sectionTitle;\n\t\t});\n\t}\n\n\n\t/**\n\t * Creates the HTML and add it to the DOM.\n\t */\n\tbuildHTML() {\n\n\t\t/**\n\t\t * WRAP\n\t\t * Wrap everything in a __in div.\n\t\t */\n\t\tlet quicknavInEl = document.createElement(\"div\");\n\t\tquicknavInEl.classList.add(\"quickNav__in\");\n\n\n\t\t/**\n\t\t * ADD ITEMS\n\t\t * Add all the items in the quicknav.\n\t\t */\n\t\tlet itemsEl = document.createElement(\"div\");\n\t\titemsEl.classList.add('quickNav__items', 'jsQuickNav__ctn');\n\n\t\tthis.nodesEls['sections'].forEach((sectionEl, index) => {\n\t\t\tconst title = sectionEl.getAttribute(this.settings.sectionTitle);\n\n\t\t\t// <a>\n\t\t\tlet itemEl = document.createElement(\"a\");\n\t\t\titemEl.classList.add(\"quickNav__item\");\n\t\t\titemEl.href = \"#\";\n\n\t\t\t// <span> inside of the <a>\n\t\t\tlet spanEl = document.createElement(\"span\");\n\t\t\tspanEl.classList.add(\"quickNav__text\");\n\t\t\tspanEl.textContent = title;\n\n\t\t\t// Set in this var for quick access by index later on.\n\t\t\tthis.nodesEls['links'][index] = itemEl;\n\n\t\t\t// Add to the items DOM\n\t\t\titemEl.appendChild(spanEl);\n\t\t\titemsEl.appendChild(itemEl);\n\t\t});\n\n\t\tquicknavInEl.appendChild(itemsEl);\n\n\n\t\t/**\n\t\t * TRIGGER\n\t\t * Trigger to open / close quicknav\n\t\t */\n\t\tif (this.settings.addTrigger === true) {\n\t\t\tlet buttonEl = document.createElement(\"button\");\n\t\t\tbuttonEl.type = \"button\";\n\t\t\tbuttonEl.classList.add(\"quickNav__trigger\", \"jsQuickNav__trigger\");\n\n\t\t\tlet buttonLabel = document.createElement(\"span\");\n\t\t\tbuttonLabel.classList.add(\"quickNav__triggerLabel\", \"jsQuickNav__triggerLabel\");\n\n\t\t\tlet buttonIcons = document.createElement(\"span\");\n\t\t\tbuttonIcons.classList.add(\"quickNav__triggerIcon\");\n\n\t\t\tlet buttonIconOpen = document.createElement(\"span\");\n\t\t\tbuttonIconOpen.classList.add(\"svgIcon\", \"quickNav__triggerOpen\");\n\t\t\tbuttonIconOpen.innerHTML = this.settings.triggerIconOpen;\n\n\t\t\tlet buttonIconClose = document.createElement(\"span\");\n\t\t\tbuttonIconClose.classList.add(\"svgIcon\", \"quickNav__triggerClose\");\n\t\t\tbuttonIconClose.innerHTML = this.settings.triggerIconClose;\n\n\t\t\tbuttonIcons.appendChild(buttonIconOpen);\n\t\t\tbuttonIcons.appendChild(buttonIconClose);\n\t\t\tbuttonEl.appendChild(buttonLabel);\n\t\t\tbuttonEl.appendChild(buttonIcons);\n\n\t\t\t// Before or after the items list\n\t\t\tif (this.settings.triggerAfterItems) {\n\t\t\t\tquicknavInEl.appendChild(buttonEl);\n\t\t\t} else {\n\t\t\t\tquicknavInEl.insertBefore(buttonEl, quicknavInEl.firstChild);\n\t\t\t}\n\t\t}\n\n\n\t\t/**\n\t\t * ADD TO DOM\n\t\t * Add all those elements to the quicknav.\n\t\t */\n\t\tthis.quicknavEl.appendChild(quicknavInEl);\n\n\n\t\t/**\n\t\t * DEFAULT LABEL\n\t\t * We show the first section name in the label.\n\t\t */\n\t\tthis.set_trigger_label(0);\n\t}\n\n\n\t/**\n\t * Click on the quicknav link.\n\t * When there's a click, the page scrolls to the chosen section.\n\t */\n\tclickItemsEvents() {\n\t\tthis.nodesEls['links'].forEach((linkEl, index) => {\n\t\t\tlinkEl.addEventListener(\"click\", (evt) => {\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\tthis.go_to_section(this.nodesEls['sections'][index]);\n\t\t\t});\n\t\t});\n\t}\n\n\n\t/**\n\t * Automatic activation of the \"active\" class on the items.\n\t * When the user scrolls, the active section is highlighted.\n\t */\n\tscrollActivateItems() {\n\t\tthis.nodesEls['sections'].forEach((sectionEl, index) => {\n\t\t\tconst linkEl = this.nodesEls['links'][index];\n\n\t\t\tScrollTrigger.create({\n\t\t\t\ttrigger: sectionEl,\n\n\t\t\t\t// Describes a place on the trigger and a place on the scroller \n\t\t\t\t// that must meet in order to start the ScrollTrigger.\n\t\t\t\t// Example:\n\t\t\t\t// \"top center\" = \"when the top of the trigger hits the center of the scroller\"\n\t\t\t\t// \"bottom 80%\" = \"when the bottom of the trigger hits 80% down from the top of the viewport\" \n\t\t\t\tstart: \"top center\",\n\t\t\t\tend: \"bottom center\",\n\n\t\t\t\t// Gestion custom des events\n\t\t\t\tonEnter: () => {\n\t\t\t\t\tlinkEl.classList.add(\"active\");\n\t\t\t\t\tthis.set_trigger_label(index);\n\t\t\t\t},\n\t\t\t\tonLeave: () => {\n\t\t\t\t\tlinkEl.classList.remove(\"active\")\n\t\t\t\t},\n\t\t\t\tonEnterBack: () => {\n\t\t\t\t\tlinkEl.classList.add(\"active\")\n\t\t\t\t\tthis.set_trigger_label(index);\n\t\t\t\t},\n\t\t\t\tonLeaveBack: () => {\n\t\t\t\t\tlinkEl.classList.remove(\"active\")\n\t\t\t\t},\n\n\t\t\t\t// markers: true,\n\t\t\t\t// id: \"section \" + sectionIndex,\n\t\t\t});\n\t\t});\n\t}\n\n\n\t/**\n\t * Click on the trigger button.\n\t * Open and close the quicknav.\n\t */\n\ttriggerEvents() {\n\t\tif (this.settings.addTrigger !== true) { return; }\n\n\t\tconst triggerEl = this.quicknavEl.querySelector(\".jsQuickNav__trigger\");\n\t\tif (!triggerEl) { return; }\n\n\n\t\ttriggerEl.addEventListener(\"click\", (evt) => {\n\t\t\tevt.preventDefault();\n\n\t\t\tif (this.quicknavEl.classList.contains(\"open\")) {\n\t\t\t\tthis.close_quicknav();\n\t\t\t} else {\n\t\t\t\tthis.open_quicknav();\n\t\t\t}\n\t\t});\n\t}\n\n\n\t/**\n\t * Close the quicknav on scroll\n\t */\n\tcloseOnScroll() {\n\t\tif (this.settings.addTrigger !== true) { return; }\n\n\t\twindow.addEventListener('scroll', _.throttle(() => {\n\t\t\tif (this.quicknavEl.classList.contains(\"open\")) {\n\t\t\t\tthis.close_quicknav();\n\t\t\t}\n\t\t}, 300));\n\t}\n\n\n\t/**\n\t * Hide the quicknav\n\t * When the window reach a section, hide the quicknav.\n\t * Usually, this section is the footer.\n\t */\n\thideQuickNav() {\n\t\tconst hideHereEl = document.querySelector(this.settings.sectionClassHide);\n\t\tif (!hideHereEl) { return; }\n\n\n\t\tScrollTrigger.create({\n\t\t\ttrigger: hideHereEl,\n\t\t\ttoggleClass: { targets: this.quicknavEl, className: \"quickNav--hide\" },\n\n\t\t\t// Describes a place on the trigger and a place on the scroller \n\t\t\t// that must meet in order to start the ScrollTrigger.\n\t\t\t// Example:\n\t\t\t// \"top center\" = \"when the top of the trigger hits the center of the scroller\"\n\t\t\t// \"bottom 80%\" = \"when the bottom of the trigger hits 80% down from the top of the viewport\" \n\t\t\tstart: \"top 25%\",\n\n\t\t\t// No end ScrollTrigger\n\t\t\tendTrigger: \"html\",\n\t\t\tend: \"bottom top\",\n\n\t\t\t// markers: true,\n\t\t\t// id: \"hide quicknav\",\n\t\t});\n\t}\n\n\n\t/**\n\t * Update the trigger label\n\t * Set the name of the active section in the trigger button label.\n\t */\n\tset_trigger_label(index) {\n\t\tif (this.settings.addTrigger !== true) { return; }\n\n\t\t// Init the var, so we won't query it each time\n\t\tif (!this.triggerLabelEl) {\n\t\t\tthis.triggerLabelEl = this.quicknavEl.querySelector(\".jsQuickNav__triggerLabel\");\n\t\t}\n\n\t\t// If the node exists, update it.\n\t\tif (this.triggerLabelEl) {\n\t\t\tthis.triggerLabelEl.textContent = this.nodesEls['titles'][index];\n\t\t}\n\t}\n\n\n\t/**\n\t * Open the quicknav\n\t */\n\topen_quicknav() {\n\t\tthis.quicknavEl.classList.add('open');\n\t}\n\n\n\t/**\n\t * Close the quicknav\n\t */\n\tclose_quicknav() {\n\t\tthis.quicknavEl.classList.remove('open');\n\t}\n\n\n\t/**\n\t * Scroll to a specific section\n\t */\n\tgo_to_section(sectionEl) {\n\t\tconst y = sectionEl.getBoundingClientRect().top + window.pageYOffset + this.settings.scrollOffset;\n\t\twindow.scrollTo({ top: y, behavior: 'smooth' });\n\t}\n}"],"file":"fbquicknav.js"}